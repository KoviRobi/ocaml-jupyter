<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Message (jupyter.Jupyter.Message)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">jupyter</a> &#x00BB; <a href="../index.html">Jupyter</a> &#x00BB; Message</nav><header class="odoc-preamble"><h1>Module <code><span>Jupyter.Message</span></code></h1><p>Messaging in Jupyter</p></header><nav class="odoc-toc"><ul><li><a href="#headers">Headers</a></li><li><a href="#top-level-message">Top-level message</a></li><li><a href="#messages">Messages</a></li></ul></nav><div class="odoc-content"><h3 id="headers"><a href="#headers" class="anchor"></a>Headers</h3><div class="odoc-spec"><div class="spec type anchored" id="type-header"><a href="#type-header" class="anchor"></a><code><span><span class="keyword">type</span> header</span><span> = </span><span>{</span></code><ol><li id="type-header.msg_id" class="def record field anchored"><a href="#type-header.msg_id" class="anchor"></a><code><span>msg_id : string;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>typically UUID, must be unique per message</p><span class="comment-delim">*)</span></div></li><li id="type-header.msg_type" class="def record field anchored"><a href="#type-header.msg_type" class="anchor"></a><code><span>msg_type : string;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>the kind of message</p><span class="comment-delim">*)</span></div></li><li id="type-header.session" class="def record field anchored"><a href="#type-header.session" class="anchor"></a><code><span>session : string;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>typically UUID, should be unique per session</p><span class="comment-delim">*)</span></div></li><li id="type-header.date" class="def record field anchored"><a href="#type-header.date" class="anchor"></a><code><span>date : <span>string option</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>ISO8601 timestamp for when the message is created</p><span class="comment-delim">*)</span></div></li><li id="type-header.username" class="def record field anchored"><a href="#type-header.username" class="anchor"></a><code><span>username : string;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>the current username</p><span class="comment-delim">*)</span></div></li><li id="type-header.version" class="def record field anchored"><a href="#type-header.version" class="anchor"></a><code><span>version : string;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>the message protocol version</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-header_of_yojson"><a href="#val-header_of_yojson" class="anchor"></a><code><span><span class="keyword">val</span> header_of_yojson : <span><span class="xref-unresolved">Ppx_yojson_conv_lib</span>.Yojson.Safe.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-header">header</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-yojson_of_header"><a href="#val-yojson_of_header" class="anchor"></a><code><span><span class="keyword">val</span> yojson_of_header : <span><a href="#type-header">header</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppx_yojson_conv_lib</span>.Yojson.Safe.t</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-header_of_string"><a href="#val-header_of_string" class="anchor"></a><code><span><span class="keyword">val</span> header_of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-header">header</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-header_option_of_string"><a href="#val-header_option_of_string" class="anchor"></a><code><span><span class="keyword">val</span> header_option_of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-header">header</a> <a href="../Json/index.html#type-option_try">Json.option_try</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_header"><a href="#val-string_of_header" class="anchor"></a><code><span><span class="keyword">val</span> string_of_header : <span><a href="#type-header">header</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_header_option"><a href="#val-string_of_header_option" class="anchor"></a><code><span><span class="keyword">val</span> string_of_header_option : <span><span><a href="#type-header">header</a> option</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><h3 id="top-level-message"><a href="#top-level-message" class="anchor"></a>Top-level message</h3><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'content t</span></span><span> = </span><span>{</span></code><ol><li id="type-t.zmq_ids" class="def record field anchored"><a href="#type-t.zmq_ids" class="anchor"></a><code><span>zmq_ids : <span>string list</span>;</span></code></li><li id="type-t.content" class="def record field anchored"><a href="#type-t.content" class="anchor"></a><code><span>content : <span class="type-var">'content</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The actual content of the message must be a dict, whose structure depends on the message type.</p><span class="comment-delim">*)</span></div></li><li id="type-t.header" class="def record field anchored"><a href="#type-t.header" class="anchor"></a><code><span>header : <a href="#type-header">header</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The message header contains a pair of unique identifiers for the originating session and the actual message id, in addition to the username for the process that generated the message. This is useful in collaborative settings where multiple users may be interacting with the same kernel simultaneously, so that frontends can label the various messages in a meaningful way.</p><span class="comment-delim">*)</span></div></li><li id="type-t.parent_header" class="def record field anchored"><a href="#type-t.parent_header" class="anchor"></a><code><span>parent_header : <span><a href="#type-header">header</a> option</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>In a chain of messages, the header from the parent is copied so that clients can track where messages come from.</p><span class="comment-delim">*)</span></div></li><li id="type-t.metadata" class="def record field anchored"><a href="#type-t.metadata" class="anchor"></a><code><span>metadata : string;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Any metadata associated with the message.</p><span class="comment-delim">*)</span></div></li><li id="type-t.buffers" class="def record field anchored"><a href="#type-t.buffers" class="anchor"></a><code><span>buffers : <span>string list</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>optional: buffers is a list of binary data buffers for implementations that support binary extensions to the protocol.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-t_of_yojson"><a href="#val-t_of_yojson" class="anchor"></a><code><span><span class="keyword">val</span> t_of_yojson : 
  'content. <span><span>(<span><span class="xref-unresolved">Ppx_yojson_conv_lib</span>.Yojson.Safe.t <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'content</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Ppx_yojson_conv_lib</span>.Yojson.Safe.t <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'content</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-yojson_of_t"><a href="#val-yojson_of_t" class="anchor"></a><code><span><span class="keyword">val</span> yojson_of_t : 
  'content. <span><span>(<span><span class="type-var">'content</span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppx_yojson_conv_lib</span>.Yojson.Safe.t)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'content</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Ppx_yojson_conv_lib</span>.Yojson.Safe.t</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-epoch_to_iso8601_string"><a href="#val-epoch_to_iso8601_string" class="anchor"></a><code><span><span class="keyword">val</span> epoch_to_iso8601_string : <span>float <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create_next"><a href="#val-create_next" class="anchor"></a><code><span><span class="keyword">val</span> create_next : 
  <span>?time:float <span class="arrow">&#45;&gt;</span></span>
  <span>content_to_yojson:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>[&gt; <span>`List of <span><span>[&gt; <span>`String of string</span> ]</span> list</span></span> ]</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create_next_shell"><a href="#val-create_next_shell" class="anchor"></a><code><span><span class="keyword">val</span> create_next_shell : <span>?time:float <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Shell/index.html#type-reply">Shell.reply</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Shell/index.html#type-reply">Shell.reply</a> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create_next_iopub"><a href="#val-create_next_iopub" class="anchor"></a><code><span><span class="keyword">val</span> create_next_iopub : <span>?time:float <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Iopub/index.html#type-reply">Iopub.reply</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Iopub/index.html#type-reply">Iopub.reply</a> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create_next_stdin"><a href="#val-create_next_stdin" class="anchor"></a><code><span><span class="keyword">val</span> create_next_stdin : <span>?time:float <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Stdin/index.html#type-reply">Stdin.reply</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Stdin/index.html#type-reply">Stdin.reply</a> <a href="#type-t">t</a></span></span></code></div></div><h3 id="messages"><a href="#messages" class="anchor"></a>Messages</h3><div class="odoc-spec"><div class="spec type anchored" id="type-request"><a href="#type-request" class="anchor"></a><code><span><span class="keyword">type</span> request</span><span> = </span></code><ol><li id="type-request.SHELL_REQ" class="def variant constructor anchored"><a href="#type-request.SHELL_REQ" class="anchor"></a><code><span>| </span><span><span class="constructor">SHELL_REQ</span> <span class="keyword">of</span> <span><a href="../Shell/index.html#type-request">Shell.request</a> <a href="#type-t">t</a></span></span></code></li><li id="type-request.STDIN_REQ" class="def variant constructor anchored"><a href="#type-request.STDIN_REQ" class="anchor"></a><code><span>| </span><span><span class="constructor">STDIN_REQ</span> <span class="keyword">of</span> <span><a href="../Stdin/index.html#type-request">Stdin.request</a> <a href="#type-t">t</a></span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-request_of_yojson"><a href="#val-request_of_yojson" class="anchor"></a><code><span><span class="keyword">val</span> request_of_yojson : <span><span class="xref-unresolved">Ppx_yojson_conv_lib</span>.Yojson.Safe.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-request">request</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-yojson_of_request"><a href="#val-yojson_of_request" class="anchor"></a><code><span><span class="keyword">val</span> yojson_of_request : <span><a href="#type-request">request</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppx_yojson_conv_lib</span>.Yojson.Safe.t</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-reply"><a href="#type-reply" class="anchor"></a><code><span><span class="keyword">type</span> reply</span><span> = </span></code><ol><li id="type-reply.SHELL_REP" class="def variant constructor anchored"><a href="#type-reply.SHELL_REP" class="anchor"></a><code><span>| </span><span><span class="constructor">SHELL_REP</span> <span class="keyword">of</span> <span><a href="../Shell/index.html#type-reply">Shell.reply</a> <a href="#type-t">t</a></span></span></code></li><li id="type-reply.IOPUB_REP" class="def variant constructor anchored"><a href="#type-reply.IOPUB_REP" class="anchor"></a><code><span>| </span><span><span class="constructor">IOPUB_REP</span> <span class="keyword">of</span> <span><a href="../Iopub/index.html#type-reply">Iopub.reply</a> <a href="#type-t">t</a></span></span></code></li><li id="type-reply.STDIN_REP" class="def variant constructor anchored"><a href="#type-reply.STDIN_REP" class="anchor"></a><code><span>| </span><span><span class="constructor">STDIN_REP</span> <span class="keyword">of</span> <span><a href="../Stdin/index.html#type-reply">Stdin.reply</a> <a href="#type-t">t</a></span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-reply_of_yojson"><a href="#val-reply_of_yojson" class="anchor"></a><code><span><span class="keyword">val</span> reply_of_yojson : <span><span class="xref-unresolved">Ppx_yojson_conv_lib</span>.Yojson.Safe.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-reply">reply</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-yojson_of_reply"><a href="#val-yojson_of_reply" class="anchor"></a><code><span><span class="keyword">val</span> yojson_of_reply : <span><a href="#type-reply">reply</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppx_yojson_conv_lib</span>.Yojson.Safe.t</span></code></div></div></div></body></html>